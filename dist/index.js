!function(e,n){"object"==typeof exports&&"undefined"!=typeof module?module.exports=n():"function"==typeof define&&define.amd?define(n):(e="undefined"!=typeof globalThis?globalThis:e||self).validateRfc=n()}(this,function(){"use strict";function t(e){var n=(1<arguments.length&&void 0!==arguments[1]?arguments[1]:{}).omitVerificationDigit;if(s(e)||f(e))return[];var t,i,r=[],A=O.test(e),c=!A||(i=(c=e).slice(0,-3).slice(-6),t=i.slice(0,2),c=i.slice(2,4),i=i.slice(4,6),i=new Date("20".concat(t,"-").concat(c,"-").concat(i)),!isNaN(i.getTime())),u=!A||(u=(i=e).slice(-1),o(i)===u);return A||r.push("INVALID_FORMAT"),c||r.push("INVALID_DATE"),u||n||r.push("INVALID_VERIFICATION_DIGIT"),function(e){e=(e||"").slice(0,4);return l.includes(e)}(e)&&r.push("FORBIDDEN_WORD"),r}function i(e){return{isValid:!0,rfc:e,type:c[e=e]||A[e.length]||null}}var r={0:0,1:1,2:2,3:3,4:4,5:5,6:6,7:7,8:8,9:9,A:10,B:11,C:12,D:13,E:14,F:15,G:16,H:17,I:18,J:19,K:20,L:21,M:22,N:23,"&":24,O:25,P:26,Q:27,R:28,S:29,T:30,U:31,V:32,W:33,X:34,Y:35,Z:36," ":37,"Ñ":38},o=function(e){e=(11e3-(12===e.length?" ".concat(e):e).slice(0,-1).split("").reverse().reduce(function(e,n,t){return e+(r[n]||0)*(t+2)},0))%11;return 11==e?"0":10==e?"A":String(e)},l=["BUEI","BUEY","CACA","CACO","CAGA","CAGO","CAKA","CAKO","COGE","COJA","COJE","COJI","COJO","CULO","FETO","GUEY","JOTO","KACA","KACO","KAGA","KAGO","KOGE","KOJO","KAKA","KULO","MAME","MAMO","MEAR","MEAS","MEON","MION","MOCO","MULA","PEDA","PEDO","PENE","PUTA","PUTO","QULO","RATA","RUIN"],n=["DAA020218JY1","EDG811007RB3","LIM0011098G0","LME060822IH5","NFS0103297H5"],O=/^([A-ZÑ\x26]{3,4})([0-9]{6})([A-Z0-9]{3})$/,A={12:"company",13:"person"},c={XEXX010101000:"foreign",XAXX010101000:"generic"},s=function(e){return e in c},f=function(e){return n.includes(e)};return function(e,n){e=String(e).trim().toUpperCase().replace(/[^0-9A-ZÑ\x26]/g,""),n=t(e,n);return 0===n.length?i(e):{isValid:!1,rfc:null,type:null,errors:n}}});
//# sourceMappingURL=index.js.map
